{"ast":null,"code":"import { createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, withKeys as _withKeys, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card flex justify-content-center\"\n};\nconst _hoisted_2 = [\"src\", \"alt\"];\nconst _hoisted_3 = [\"src\", \"alt\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode($setup[\"Galleria\"], {\n    visible: $setup.displayBasic,\n    \"onUpdate:visible\": _cache[0] || (_cache[0] = $event => $setup.displayBasic = $event),\n    value: $setup.images,\n    responsiveOptions: $setup.responsiveOptions,\n    numVisible: 9,\n    containerStyle: \"max-width: 1024px\",\n    circular: true,\n    fullScreen: true,\n    showItemNavigators: true\n  }, {\n    item: _withCtx(slotProps => [_createElementVNode(\"button\", {\n      onClick: $setup.prevPhoto\n    }, \"Previous\"), _createElementVNode(\"img\", {\n      id: \"plan\",\n      src: slotProps.item.itemImageSrc,\n      alt: slotProps.item.alt,\n      style: {\n        \"width\": \"100%\",\n        \"display\": \"block\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_2), _createElementVNode(\"button\", {\n      onClick: $setup.nextPhoto\n    }, \"Next\")]),\n    thumbnail: _withCtx(slotProps => [_createElementVNode(\"img\", {\n      src: slotProps.item.thumbnailImageSrc,\n      alt: slotProps.item.alt,\n      style: {\n        \"max-height\": \"100px\",\n        \"width\": \"100%\",\n        \"display\": \"block\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_3)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\", \"value\", \"responsiveOptions\"]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $setup.displayBasic = true)\n  }, \"Open Gallery\"), _createElementVNode(\"input\", {\n    onKeyup: _cache[2] || (_cache[2] = _withKeys((...args) => _ctx.closeGallery && _ctx.closeGallery(...args), [\"esc\"]))\n  }, null, 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","$setup","visible","displayBasic","_cache","$event","value","images","responsiveOptions","numVisible","containerStyle","circular","fullScreen","showItemNavigators","item","_withCtx","slotProps","_createElementVNode","onClick","prevPhoto","id","src","itemImageSrc","alt","style","_hoisted_2","nextPhoto","thumbnail","thumbnailImageSrc","_hoisted_3","_","onKeyup","_withKeys","args","_ctx","closeGallery"],"sources":["/Users/juangonzalez/Documents/GitHub/vue-project-kiwi/Clinet/src/components/ImageGallery.vue"],"sourcesContent":["\n<template>\n    <div class=\"card flex justify-content-center\">\n        <Galleria v-model:visible=\"displayBasic\" :value=\"images\" :responsiveOptions=\"responsiveOptions\" :numVisible=\"9\" containerStyle=\"max-width: 1024px\" :circular=\"true\" :fullScreen=\"true\" :showItemNavigators=\"true\">\n            <template #item=\"slotProps\">\n                <button @click=\"prevPhoto\">Previous</button>\n                <img id=\"plan\" :src=\"slotProps.item.itemImageSrc\" :alt=\"slotProps.item.alt\" style=\"width: 100%; display: block\" />\n                <button @click=\"nextPhoto\">Next</button>\n            </template>\n            <template #thumbnail=\"slotProps\">\n                <img :src=\"slotProps.item.thumbnailImageSrc\" :alt=\"slotProps.item.alt\" style=\"max-height: 100px; width: 100%; display: block\" />\n            </template>\n        </Galleria>\n\n        <button @click=\"displayBasic = true\">Open Gallery</button>\n        <input @keyup.esc=\"closeGallery\">\n    </div>\n</template>\n\n<script setup>\n    import { ref, onMounted } from \"vue\";\n    import Galleria from 'primevue/galleria';\n    import { Annotorious } from '@recogito/annotorious';\n    import '@recogito/annotorious/dist/annotorious.min.css';\n\n    const images = ref();\n    const responsiveOptions = ref([\n        {\n            breakpoint: '1500px',\n            numVisible: 5\n        },\n        {\n            breakpoint: '1024px',\n            numVisible: 3\n        },\n        {\n            breakpoint: '768px',\n            numVisible: 2\n        },\n        {\n            breakpoint: '560px',\n            numVisible: 1\n        }\n    ]);\n    var anno = null;\n    var photoIndex = 0;\n\n\n    const initAnno = () => {\n        displayBasic = true;\n        if(anno != null){\n            anno.destroy();\n            anno = null;\n        }\n\n        anno = new Annotorious({\n            image: document.getElementById(\"plan\")\n        });\n\n        anno.loadAnnotations('http://localhost:3000/testAnnotations.json?sourceImage=' + images.value[photoIndex].itemImageSrc );\n\n        anno.on('createAnnotation', function (annotation) {\n            console.log('Created annotation', annotation);\n\n            var data = JSON.stringify(annotation);\n            console.log(data);\n            const requestOptions = {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: data\n            };\n            fetch(\"http://localhost:3000/testAnnotationsAdd\", requestOptions)\n                .then(response => response.json())\n                .then(data => (this.postId = data.id));\n        });\n\n        anno.on('createSelection', function (selection) {\n            console.log('Created selection', selection);\n        });\n\n        anno.on('deleteAnnotation', function (annotation) {\n            console.log('Delete annotation', annotation);\n\n            var data = JSON.stringify(annotation);\n            console.log(data);\n            const requestOptions = {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: data\n            };\n            fetch(\"http://localhost:3000/testAnnotationsDelete\", requestOptions)\n                .then(response => response.json())\n                .then(data => (this.postId = data.id));\n        });\n\n        anno.on('mouseEnterAnnotation', function (annotation, element) {\n            console.log('Mouse ENTERED annotation', annotation, element);\n        });\n\n        anno.on('selectAnnotation', function (annotation, element) {\n            console.log('Select annotation', annotation, element);\n        });\n\n        anno.on('cancelSelected', function (selection) {\n            console.log('UNSELECTED', selection);\n        });\n\n        anno.on('clickAnnotation', function (annotation, element) {\n           console.log('Clicked annotation', annotation, element);\n        });\n    };\n    const prevPhoto = () => {\n        photoIndex = photoIndex - 1;\n        if(photoIndex < 0) {\n            photoIndex = images.value.length - 1;\n        }\n        var img = document.getElementById(\"plan\");\n        img.src = images.value[photoIndex].itemImageSrc;\n        initAnno();\n    };\n    const nextPhoto = () => {\n        photoIndex = photoIndex + 1;\n        if(photoIndex >= images.value.length) {\n            photoIndex = 0;\n        }\n        var img = document.getElementById(\"plan\");\n        img.src = images.value[photoIndex].itemImageSrc;\n        initAnno();\n    };\n\n    var displayBasic = ref(false);\n\n    onMounted(() => {\n        const requestOptions = {\n            method: \"GET\"\n        };\n        fetch(\"http://localhost:3000/GalleryImages\", requestOptions)\n            .then(response => response.json())\n            .then((data) => (images.value = data));\n    })\n</script>\n\nexport default {\n    data() {\n        return {\n            displayBasic: false\n        };\n    }\n\n    methods: {\n        closeGallery() {\n            \n        }\n    }\n}"],"mappings":";;EAESA,KAAK,EAAC;AAAkC;mBAFjD;mBAAA;;uBAEIC,mBAAA,CAcM,OAdNC,UAcM,GAbFC,YAAA,CASWC,MAAA;IATOC,OAAO,EAAED,MAAA,CAAAE,YAAY;IAH/C,oBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAGmCJ,MAAA,CAAAE,YAAY,GAAAE,MAAA;IAAGC,KAAK,EAAEL,MAAA,CAAAM,MAAM;IAAGC,iBAAiB,EAAEP,MAAA,CAAAO,iBAAiB;IAAGC,UAAU,EAAE,CAAC;IAAEC,cAAc,EAAC,mBAAmB;IAAEC,QAAQ,EAAE,IAAI;IAAGC,UAAU,EAAE,IAAI;IAAGC,kBAAkB,EAAE;;IAC7LC,IAAI,EAAAC,QAAA,CACiCC,SADtB,KACtBC,mBAAA,CAA4C;MAAnCC,OAAK,EAAEjB,MAAA,CAAAkB;IAAS,GAAE,UAAQ,GACnCF,mBAAA,CAAkH;MAA7GG,EAAE,EAAC,MAAM;MAAEC,GAAG,EAAEL,SAAS,CAACF,IAAI,CAACQ,YAAY;MAAGC,GAAG,EAAEP,SAAS,CAACF,IAAI,CAACS,GAAG;MAAEC,KAAmC,EAAnC;QAAA;QAAA;MAAA;4BAN5FC,UAAA,GAOgBR,mBAAA,CAAwC;MAA/BC,OAAK,EAAEjB,MAAA,CAAAyB;IAAS,GAAE,MAAI,E;IAExBC,SAAS,EAAAZ,QAAA,CACgHC,SADrG,KAC3BC,mBAAA,CAAgI;MAA1HI,GAAG,EAAEL,SAAS,CAACF,IAAI,CAACc,iBAAiB;MAAGL,GAAG,EAAEP,SAAS,CAACF,IAAI,CAACS,GAAG;MAAEC,KAAsD,EAAtD;QAAA;QAAA;QAAA;MAAA;4BAVvFK,UAAA,E;IAAAC,CAAA;gEAcQb,mBAAA,CAA0D;IAAjDC,OAAK,EAAAd,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEJ,MAAA,CAAAE,YAAY;KAAS,cAAY,GACjDc,mBAAA,CAAiC;IAAzBc,OAAK,EAAA3B,MAAA,QAAAA,MAAA,MAfrB4B,SAAA,KAAAC,IAAA,KAe2BC,IAAA,CAAAC,YAAA,IAAAD,IAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}