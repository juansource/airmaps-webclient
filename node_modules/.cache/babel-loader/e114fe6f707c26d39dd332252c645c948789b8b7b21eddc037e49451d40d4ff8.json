{"ast":null,"code":"import \"leaflet\"; // leaflet components\nimport { defineComponent, ref } from \"vue\";\nimport \"leaflet/dist/leaflet.css\";\nimport { LMap, LTileLayer } from \"@vue-leaflet/vue-leaflet\";\nimport \"@geoman-io/leaflet-geoman-free\"; // leaflet-geoman components\nimport \"@geoman-io/leaflet-geoman-free/dist/leaflet-geoman.css\";\n\n// import IconField from 'primevue/iconfield'; // component library\n// // import InputIcon from 'primevue/inputicon';\n\nexport default defineComponent({\n  name: \"MapView\",\n  components: {\n    LMap,\n    LTileLayer\n  },\n  setup() {\n    const map = ref(null);\n    const mapObject = ref(null);\n    const mapReady = ref(false);\n    const drawnText = ref(\"\");\n    const mapLayer = {\n      zoom: 12,\n      center: [47.703711705924626, -122.14209459757434],\n      attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    };\n    const selectedTileLayer = ref({\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    });\n    const hookUpDraw = async () => {\n      mapObject.value = map.value.leafletObject;\n      mapReady.value = true;\n      mapObject.value.pm.setLang(\"en_gb\");\n      mapObject.value.pm.addControls({\n        position: \"topleft\",\n        drawCircle: true,\n        drawText: false\n      });\n      mapObject.value.on(\"pm:create\", handleDrawingClick);\n      // on open show details\n    };\n    const handleDrawingClick = e => {\n      // const layer = e.layer;\n      // drawnText.value = prompt(\"Enter text:\"); // Prompt user to enter text\n      // if (drawnText.value) {\n      //   layer.bindPopup(drawnText.value).openPopup();\n      // }\n\n      const popupForm = '<label for=\"popupTitle\">Title:</label><br><input type=\"text\" id=\"popupTitle\" name=\"popupTitle\"><br>';\n      const layer = e.layer.setContent(popupForm);\n      layer.setContent();\n    };\n    return {\n      map,\n      mapReady,\n      mapLayer,\n      hookUpDraw,\n      selectedTileLayer,\n      drawnText\n    };\n  }\n});","map":{"version":3,"names":["defineComponent","ref","LMap","LTileLayer","name","components","setup","map","mapObject","mapReady","drawnText","mapLayer","zoom","center","attribution","selectedTileLayer","url","hookUpDraw","value","leafletObject","pm","setLang","addControls","position","drawCircle","drawText","on","handleDrawingClick","e","popupForm","layer","setContent"],"sources":["/Users/juangonzalez/Documents/GitHub/vue-project-kiwi/Clinet/src/components/LeafLet.vue"],"sourcesContent":["<template>\r\n  <div class=\"map\">\r\n    <l-map style=\"width: 100%; height: 100%\" ref=\"map\" @ready=\"hookUpDraw\" :zoom=\"mapLayer.zoom\"\r\n      :center=\"mapLayer.center\">\r\n      <template v-if=\"mapReady\">\r\n        <l-tile-layer :url=\"selectedTileLayer.url\" :attribution=\"mapLayer.attribution\"></l-tile-layer>\r\n      </template>\r\n    </l-map>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"leaflet\"; // leaflet components\r\nimport { defineComponent, ref } from \"vue\";\r\n\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport { LMap, LTileLayer } from \"@vue-leaflet/vue-leaflet\";\r\n\r\nimport \"@geoman-io/leaflet-geoman-free\"; // leaflet-geoman components\r\nimport \"@geoman-io/leaflet-geoman-free/dist/leaflet-geoman.css\";\r\n\r\n// import IconField from 'primevue/iconfield'; // component library\r\n// // import InputIcon from 'primevue/inputicon';\r\n\r\nexport default defineComponent({\r\n  name: \"MapView\",\r\n  components: {\r\n    LMap,\r\n    LTileLayer,\r\n  },\r\n  setup() {\r\n    const map = ref(null);\r\n    const mapObject = ref(null);\r\n    const mapReady = ref(false);\r\n    const drawnText = ref(\"\");\r\n\r\n    const mapLayer = {\r\n      zoom: 12,\r\n      center: [47.703711705924626, -122.14209459757434],\r\n      attribution:\r\n        '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n    };\r\n\r\n    const selectedTileLayer = ref({\r\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\r\n    });\r\n\r\n    const hookUpDraw = async () => {\r\n      mapObject.value = map.value.leafletObject;\r\n      mapReady.value = true;\r\n      mapObject.value.pm.setLang(\"en_gb\");\r\n      mapObject.value.pm.addControls({\r\n        position: \"topleft\",\r\n        drawCircle: true,\r\n        drawText: false,\r\n      });\r\n      mapObject.value.on(\"pm:create\", handleDrawingClick);\r\n      // on open show details\r\n    };\r\n\r\n    const handleDrawingClick = (e) => {\r\n      // const layer = e.layer;\r\n      // drawnText.value = prompt(\"Enter text:\"); // Prompt user to enter text\r\n      // if (drawnText.value) {\r\n      //   layer.bindPopup(drawnText.value).openPopup();\r\n      // }\r\n\r\n      const popupForm =\r\n      '<label for=\"popupTitle\">Title:</label><br><input type=\"text\" id=\"popupTitle\" name=\"popupTitle\"><br>';\r\n\r\n      const layer = e.layer.setContent(popupForm);\r\n\r\n      layer.setContent();\r\n\r\n\r\n    };  \r\n\r\n    return {\r\n      map,\r\n      mapReady,\r\n      mapLayer,\r\n      hookUpDraw,\r\n      selectedTileLayer,\r\n      drawnText\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style>\r\n.map {\r\n  height: 100vh;\r\n}\r\n</style>\r\n"],"mappings":"AAYA,OAAO,SAAS,EAAE;AAClB,SAASA,eAAe,EAAEC,GAAE,QAAS,KAAK;AAE1C,OAAO,0BAA0B;AACjC,SAASC,IAAI,EAAEC,UAAS,QAAS,0BAA0B;AAE3D,OAAO,gCAAgC,EAAE;AACzC,OAAO,wDAAwD;;AAE/D;AACA;;AAEA,eAAeH,eAAe,CAAC;EAC7BI,IAAI,EAAE,SAAS;EACfC,UAAU,EAAE;IACVH,IAAI;IACJC;EACF,CAAC;EACDG,KAAKA,CAAA,EAAG;IACN,MAAMC,GAAE,GAAIN,GAAG,CAAC,IAAI,CAAC;IACrB,MAAMO,SAAQ,GAAIP,GAAG,CAAC,IAAI,CAAC;IAC3B,MAAMQ,QAAO,GAAIR,GAAG,CAAC,KAAK,CAAC;IAC3B,MAAMS,SAAQ,GAAIT,GAAG,CAAC,EAAE,CAAC;IAEzB,MAAMU,QAAO,GAAI;MACfC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,CAAC,kBAAkB,EAAE,CAAC,kBAAkB,CAAC;MACjDC,WAAW,EACT;IACJ,CAAC;IAED,MAAMC,iBAAgB,GAAId,GAAG,CAAC;MAC5Be,GAAG,EAAE;IACP,CAAC,CAAC;IAEF,MAAMC,UAAS,GAAI,MAAAA,CAAA,KAAY;MAC7BT,SAAS,CAACU,KAAI,GAAIX,GAAG,CAACW,KAAK,CAACC,aAAa;MACzCV,QAAQ,CAACS,KAAI,GAAI,IAAI;MACrBV,SAAS,CAACU,KAAK,CAACE,EAAE,CAACC,OAAO,CAAC,OAAO,CAAC;MACnCb,SAAS,CAACU,KAAK,CAACE,EAAE,CAACE,WAAW,CAAC;QAC7BC,QAAQ,EAAE,SAAS;QACnBC,UAAU,EAAE,IAAI;QAChBC,QAAQ,EAAE;MACZ,CAAC,CAAC;MACFjB,SAAS,CAACU,KAAK,CAACQ,EAAE,CAAC,WAAW,EAAEC,kBAAkB,CAAC;MACnD;IACF,CAAC;IAED,MAAMA,kBAAiB,GAAKC,CAAC,IAAK;MAChC;MACA;MACA;MACA;MACA;;MAEA,MAAMC,SAAQ,GACd,qGAAqG;MAErG,MAAMC,KAAI,GAAIF,CAAC,CAACE,KAAK,CAACC,UAAU,CAACF,SAAS,CAAC;MAE3CC,KAAK,CAACC,UAAU,CAAC,CAAC;IAGpB,CAAC;IAED,OAAO;MACLxB,GAAG;MACHE,QAAQ;MACRE,QAAQ;MACRM,UAAU;MACVF,iBAAiB;MACjBL;IACF,CAAC;EACH;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}